
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <title>Gradeable Data Format Â· SketchResponse</title>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.1.0">
        
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="offline_docs.html" />
    
    
    <link rel="prev" href="api/" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="getting_started.html">
            
                <a href="getting_started.html">
            
                    
                    Getting Started
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="using_sr.html">
            
                <a href="using_sr.html">
            
                    
                    Using SketchResponse
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="template.html">
            
                <a href="template.html">
            
                    
                    A grading script template
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="simple_grader.html">
            
                <a href="simple_grader.html">
            
                    
                    A simple grading script
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="complex_grader.html">
            
                <a href="complex_grader.html">
            
                    
                    A complex grading script
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="physics_grader.html">
            
                <a href="physics_grader.html">
            
                    
                    A physics grading script
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="groups_grader.html">
            
                <a href="groups_grader.html">
            
                    
                    Grading Grouped Plugins
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6" data-path="local_test.html">
            
                <a href="local_test.html">
            
                    
                    Testing your script
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="deployment.html">
            
                <a href="deployment.html">
            
                    
                    Deployment
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="edx_quickstart.html">
            
                <a href="edx_quickstart.html">
            
                    
                    edX
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="probconfig_plugins.html">
            
                <a href="probconfig_plugins.html">
            
                    
                    Sketch Tool Configuration Reference
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="api/">
            
                <a href="api/">
            
                    
                    Grader Library API Reference
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.7" data-path="gradeable_data_format.html">
            
                <a href="gradeable_data_format.html">
            
                    
                    Gradeable Data Format
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="offline_docs.html">
            
                <a href="offline_docs.html">
            
                    
                    Offline Documentation
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >Gradeable Data Format</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="data-format-returned-by-the-sketch-tool">Data Format Returned By The Sketch Tool</h1>
<p>The data returned by the sketch tool to the grader backend is formatted as a
JSON string. The information contained in the JSON string is divided into two
parts. The first
part contains the apiVersion used to generate the data and configuration options
from the grader script used to configure this instance of the sketch tool
and is identical across the data returned for each plugin type.
Refer to the <a href="probconfig_plugins.html">Plugin Configuration</a> to see what values
are contained here.</p>
<p>The second part contains the actual data drawn using a sketch tool plugin and is
dependent upon which plugin was used to generate it.</p>
<h2 id="common-part">Common Part</h2>
<p>The example below shows the common part of gradeable data. The <code>apiVersion</code> key shows
the sketch tool version used to generate this data. The <code>meta</code> key contains the
configuration options used to configure the sketch tool that generated this data,
including: the width and height of the canvas, the ranges of the x and y axes, and
the configuration options of the specific plugins used. Finally, the <code>dataVersions</code>
key contains a list of version numbers for each plugin used, in case different plugins
are updated at different rates.</p>
<pre><code class="lang-sh">{<span class="hljs-string">&quot;apiVersion&quot;</span>:<span class="hljs-string">&quot;0.1&quot;</span>,<span class="hljs-string">&quot;meta&quot;</span>:{<span class="hljs-string">&quot;config&quot;</span>:{<span class="hljs-string">&quot;width&quot;</span>:420,<span class="hljs-string">&quot;coordinates&quot;</span>:<span class="hljs-string">&quot;polar&quot;</span>,<span class="hljs-string">&quot;yrange&quot;</span>:[-4,4],<span class="hljs-string">&quot;yscale&quot;</span>:<span class="hljs-string">&quot;linear&quot;</span>,<span class="hljs-string">&quot;xscale&quot;</span>:<span class="hljs-string">&quot;linear&quot;</span>,<span class="hljs-string">&quot;xrange&quot;</span>:[-4,4],<span class="hljs-string">&quot;plugins&quot;</span>:[{<span class="hljs-string">&quot;name&quot;</span>:<span class="hljs-string">&quot;axes&quot;</span>},{<span class="hljs-string">&quot;color&quot;</span>:<span class="hljs-string">&quot;blue&quot;</span>,<span class="hljs-string">&quot;label&quot;</span>:<span class="hljs-string">&quot;Function f(x)&quot;</span>,<span class="hljs-string">&quot;name&quot;</span>:<span class="hljs-string">&quot;freeform&quot;</span>,<span class="hljs-string">&quot;id&quot;</span>:<span class="hljs-string">&quot;f&quot;</span>},{<span class="hljs-string">&quot;color&quot;</span>:<span class="hljs-string">&quot;blue&quot;</span>,<span class="hljs-string">&quot;label&quot;</span>:<span class="hljs-string">&quot;Line Segment&quot;</span>,<span class="hljs-string">&quot;name&quot;</span>:<span class="hljs-string">&quot;line-segment&quot;</span>,<span class="hljs-string">&quot;id&quot;</span>:<span class="hljs-string">&quot;ls&quot;</span>}],<span class="hljs-string">&quot;height&quot;</span>:420},<span class="hljs-string">&quot;dataVersions&quot;</span>:{<span class="hljs-string">&quot;f&quot;</span>:<span class="hljs-string">&quot;0.1&quot;</span>,<span class="hljs-string">&quot;ls&quot;</span>:<span class="hljs-string">&quot;0.1&quot;</span>}}, <span class="hljs-string">&quot;data&quot;</span>: ...}
</code></pre>
<h2 id="plugin-specfic-part">Plugin Specfic Part</h2>
<p>The <code>data</code> key in the JSON string contains a dictionary of mappings from plugin ids
to a list of data values generated by
the specific plugin configured with that id.
There are two types of data that can be returned: splines and
points. Splines are lists of four or more points. Points are tuples containing an
x and y value. For all data, the x and y values are given as pixel values with
respect to the size of the canvas.</p>
<h3 id="asymptote-data">Asymptote Data</h3>
<p>The data returned by the asymptote plugin is a list of dictionary objects containing lists of exactly
four points. The four points are the start point of the spline, followed by the
two control points, and finally the end point of the spline. Each spline defines a
vertical or horizontal line that spans the entire height or width of the canvas.
The example below is for a vertical asymptote.</p>
<pre><code class="lang-sh">{... <span class="hljs-string">&quot;data&quot;</span>: {<span class="hljs-string">&quot;asym&quot;</span>: [{u<span class="hljs-string">&apos;spline&apos;</span>: [[267.0028419494629, 0], [267.0028419494629, 140], [267.0028419494629, 280], [267.0028419494629, 420]]}]} ...}
</code></pre>
<h3 id="line-segment-data">Line Segment Data</h3>
<p>The data returned by the line segment plugin is a list of dictionary objects containing lists of exactly
four points. The four points are the start point of the spline, followed by the
two control points, and finally the end point of the spline. Each dictionary object
defines a single line segment.</p>
<pre><code class="lang-sh">{... <span class="hljs-string">&quot;data&quot;</span>: {<span class="hljs-string">&quot;seg&quot;</span>: [{<span class="hljs-string">&quot;spline&quot;</span>:[[159,314],[193.66666666666666,244.33333333333334],[228.33333333333334,174.66666666666666],[263,105]]}]} ...}
</code></pre>
<h3 id="point-data">Point Data</h3>
<p>The data returned by the point plugin is a list of dictionary objects containing lists of exactly
two points. The two points are x and y coordinates of the point. Each dictionary object
defines a single point.</p>
<pre><code class="lang-sh">{... <span class="hljs-string">&quot;data&quot;</span>: {<span class="hljs-string">&quot;pt&quot;</span>: [{u<span class="hljs-string">&apos;point&apos;</span>: [375.0028419494629, 256.4744338989258]}]} ...}
</code></pre>
<h3 id="polylinepolygon-data">Polyline/Polygon Data</h3>
<p>The data returned by the line segment plugin is a list of dictionary objects containing lists of
at least
three points. Unlike the other plugins that return dictionary objects, these points do
not actually define splines. The points are vertices of the polyline/polygon.
Each dictionary object defines a single polyline, or polygon. The example below
defines either a polyline with 6 segments, or a polygon with 7 sides.</p>
<pre><code class="lang-sh">{... <span class="hljs-string">&quot;data&quot;</span>: { <span class="hljs-string">&quot;pl&quot;</span>: [{<span class="hljs-string">&quot;spline&quot;</span>:[[74,153],[189,32],[294,85],[185,167],[115,40],[250,17],[218,109]]}]} ...}
</code></pre>
<h3 id="spline-data">Spline Data</h3>
<p>The data returned by the freeform or spline plugin is a list of dictionary objects containing lists of at least four points. The freeform/spline line is fit to a set of four point splines. The format of the point data for a line fit to two spline segments would look like: start point, control point, control point, end/start point, control point, control point, end point. Each dictionary object defines a unbroken line drawn by the plugin.</p>
<pre><code class="lang-sh">{... <span class="hljs-string">&quot;data&quot;</span>: {<span class="hljs-string">&quot;spl&quot;</span>: [{u<span class="hljs-string">&apos;spline&apos;</span>: [[6, 110], [62.4, 111.61], [122.03, 114.16], [174.42, 93.23], [214.4, 77.26], [246.23, 40.2], [265.57, 1.73]]}, {u<span class="hljs-string">&apos;spline&apos;</span>: [[492, 6], [508.96, 39.92], [539.76, 70.49], [575.44, 83.32], [618.54, 98.82], [666.46, 95.68], [712.25, 95.88]]}, {u<span class="hljs-string">&apos;spline&apos;</span>: [[302, 395], [317.22, 339.83], [336.76, 231.33], [391.37, 248.42], [449.46, 266.59], [453.09, 358.46], [455.78, 419.27]]}]} ...}
</code></pre>
<h3 id="tag-data">Tag Data</h3>
<p>Tag data behaves slightly differently compared to line and point data. Each tag
has to be associated with either line or point data. If a piece of data has an
associated label, it will be found under the <code>tag</code> key within the same dictionary
object as that data. The tag data itself is a string.</p>
<pre><code class="lang-sh">{... <span class="hljs-string">&quot;data&quot;</span>: {<span class="hljs-string">&quot;pt&quot;</span>: [{<span class="hljs-string">&quot;point&quot;</span>:[56,89],<span class="hljs-string">&quot;tag&quot;</span>:<span class="hljs-string">&quot;tag&quot;</span>}]} ...}
{... <span class="hljs-string">&quot;data&quot;</span>: {<span class="hljs-string">&quot;pl&quot;</span>: [{<span class="hljs-string">&quot;spline&quot;</span>:[[55,282],[87,235],[121,278]],<span class="hljs-string">&quot;tag&quot;</span>:<span class="hljs-string">&quot;tag&quot;</span>}]} ...}
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="api/" class="navigation navigation-prev " aria-label="Previous page: Grader Library API Reference">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="offline_docs.html" class="navigation navigation-next " aria-label="Next page: Offline Documentation">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Gradeable Data Format","level":"1.7","depth":1,"next":{"title":"Offline Documentation","level":"1.8","depth":1,"path":"offline_docs.md","ref":"offline_docs.md","articles":[]},"previous":{"title":"Grader Library API Reference","level":"1.6","depth":1,"path":"api/README.md","ref":"api/README.md","articles":[]},"dir":"ltr"},"config":{"plugins":[],"root":"docs/","styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"SketchResponse","gitbook":"*"},"file":{"path":"gradeable_data_format.md","mtime":"2017-07-26T16:59:37.000Z","type":"markdown"},"gitbook":{"version":"3.1.0","time":"2017-07-26T19:10:29.945Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

